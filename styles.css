:root{
  --bg: #faf8ef;
  --board-bg: #bbada0;
  --cell-bg: rgba(238,228,218,0.35);
  --gap: 12px;
  --max-board: 520px;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);font-family:Inter, Arial, sans-serif}
.app{max-width:560px;margin:18px auto;padding:10px}
.header{display:flex;justify-content:space-between;align-items:center}
.title{margin:0;font-size:40px;color:#776e65}
.top-right{display:flex;gap:10px}
.score{background:#eee;padding:8px 10px;border-radius:6px;text-align:center}
.score .label{font-size:12px;color:#666}
#score,#best{font-weight:700;font-size:18px;color:#333}

.controls{margin-top:12px;display:flex;gap:8px}
.controls button{padding:8px 10px;border-radius:6px;border:none;background:#f0e6db;cursor:pointer}

.board-wrap{margin-top:18px;display:flex;justify-content:center}
.board{
  --size: min(var(--max-board), 92vw);
  width: var(--size);
  height: var(--size);
  background:var(--board-bg);
  border-radius:10px;
  padding:var(--gap);
  position:relative;
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  grid-gap: var(--gap);
  touch-action: none;
}

.cell{background:var(--cell-bg);border-radius:6px;width:100%;height:100%}

.tile{
  position:absolute;
  border-radius:6px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#fff;
  transition: transform 150ms ease, opacity 150ms ease;
  will-change: transform;
  box-shadow: 0 4px 8px rgba(0,0,0,0.12);
}

.tile.v2{background:#eee4da;color:#776e65}
.tile.v4{background:#ede0c8;color:#776e65}
.tile.v8{background:#f2b179}
.tile.v16{background:#f59563}
.tile.v32{background:#f67c5f}
.tile.v64{background:#f65e3b}
.tile.v128{background:#edcf72;color:#776e65}
.tile.v256{background:#edcc61;color:#776e65}
.tile.v512{background:#edc850;color:#776e65}
.tile.v1024{background:#edc53f;color:#776e65}
.tile.v2048{background:#edc22e;color:#776e65}

.mobile-controls{display:none;margin-top:12px;align-items:center;justify-content:center}
.mobile-controls .row{display:flex;gap:8px}
.mobile-controls button{padding:10px;border-radius:6px;border:none;background:#f0e6db;cursor:pointer}
@media (max-width:600px){
  .mobile-controls{display:flex;flex-direction:column}
  .mobile-controls[aria-hidden="true"]{display:none}
}

.modal{position:fixed;inset:0;background:rgba(0,0,0,0.45);display:flex;align-items:center;justify-content:center;z-index:50}
.modal.hidden{display:none}
.modal-box{background:#fff;padding:16px;border-radius:8px;min-width:260px;max-width:92%}
.modal-actions{margin-top:12px;display:flex;gap:8px}
.leaders-list{max-height:300px;overflow:auto;border:1px solid #eee;padding:8px;border-radius:6px}
.leader-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:6px 0;
  border-bottom:1px solid #fafafa;
}
